version: 2
jobs:
    build:
        working_directory: /go/src/github.com/byuoitav/pi-credentials-microservice
        machine:
            services:
                - docker
        steps:
            - checkout
            - run: go get github.com/byuoitav/pi-credentials-microservice
            - run:
                command: go get -u github.com/FiloSottile/gvt
            - run:
                command: gvt fetch github.com/byuoitav/authmiddleware
            - run:
                command: gvt fetch github.com/byuoitav/password-utility
            - run:
                command: make docker
                  

